var _i_=this._i_||function(){},_r_=this._r_||function(_){return _};B.define("with-capla",(function(_,i,e){_i_("edd:cabb24f6");var n=_("promise"),t={},r={};function a(_){return _i_("edd:4d350593"),_r_(_.slice(0,-8))}function d(_){return _i_("edd:dcecff49"),t[_]||(t[_]=new n((function(i){_i_("edd:e000dba4"),r[_]=i,_r_()}))),_r_({promise:t[_],resolve:r[_]})}window.B.__caplaInitialised&&Object.keys(window.B.__caplaInitialised).forEach((function(_){_i_("edd:1d620442"),d(a(_)).resolve(window.B.__caplaInitialised[_]),_r_()})),document.addEventListener("booking-capla-initialized",(function(_){_i_("edd:bf4fa97b"),d(a(_.detail.namespace)).resolve(_.detail),_r_()})),e.exports=function(_,i,e){return _i_("edd:edf87387"),_r_((function(){_i_("edd:e42d11f1");var n=arguments;d("b-"+_+"-"+i).promise.then((function(_){_i_("edd:7774fbc2");var i=[].slice.call(n);i.unshift(_),e.apply(e,i),_r_()})),_r_()}))},_r_()})),B.define("component/genius-vip/const",(function(_,i,e){_i_("edd:9c374cd9"),e.exports={CAMPAIGN:{SpendAndUnlock:"gnsSpun",BookAndUnlock:"gnsBkun",InstantCredit:"gnsInsCrd",InstantDiscount:"gnsInsDisc",FreeRoomUpgrade:"gnsFrup",OneOffVoucher:"gnsOnbe"},MFE_EVENT:{CAPLA_EVENT_genius_vip_BANNER_VIEW:"bannerView",CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK:"bannerCtaClick",CAPLA_EVENT_genius_vip_BANNER_DISMISS:"bannerDismiss",CAPLA_EVENT_genius_vip_MODAL_VIEW:"modalView",CAPLA_EVENT_genius_vip_MODAL_CTA_CLICK:"modalCtaClick",CAPLA_EVENT_genius_vip_MODAL_DISMISS:"modalDismiss",CAPLA_EVENT_genius_vip_REMINDER_MODAL_VIEW:"reminderModalView",CAPLA_EVENT_genius_vip_REMINDER_MODAL_CTA_CLICK:"reminderModalCtaClick",CAPLA_EVENT_genius_vip_REMINDER_MODAL_DISMISS:"reminderModalDismiss",CAPLA_EVENT_genius_vip_LOGIN_MODAL_VIEW:"loginModalView",CAPLA_EVENT_genius_vip_LOGIN_MODAL_CTA_CLICK:"loginModalCtaClick",CAPLA_EVENT_genius_vip_LP_VIEW:"lpView",CAPLA_EVENT_genius_vip_PROGRESS_CTA_CLICK:"progressCtaClick"},ACTION:{index:"index",searchresults:"sr",hotel:"hp",book:"bk",book2:"bk2",confirmation:"confirm",myreservations:"bkd",mybooking:"bkd",rewards_and_wallet:"wallet",genius_vip_campaigns:"lp"}},_r_()})),B.define("component/genius-vip/tracking",(function(_,i,e){_i_("edd:42fc0560");var n=_("component"),t=_("with-capla"),r=_("./const"),a=B.env.genius_vip_squeaks||{},d=function(_,i,e){if(_i_("edd:05ad6432"),!r.CAMPAIGN[_]||!r.MFE_EVENT[i]||!r.ACTION[e])return _r_();var n=r.CAMPAIGN[_]+"_"+r.MFE_EVENT[i]+"_"+r.ACTION[e];a[n]&&B.squeak(a[n]),_r_()},s=n.extend({init:function(){if(_i_("edd:37530ec1"),!+this.getAttr("data-tracking-enabled"))return _r_();var _=!1,i=this.getAttr("data-capla-project-name"),e=this.getAttr("data-service-name"),n=!1;function a(t){if(_i_("edd:0b048c3a"),_)return _r_();_=!0;var a=t.eventBus;for(var s in r.MFE_EVENT)Object.prototype.hasOwnProperty.call(r.MFE_EVENT,s)&&function(_){_i_("edd:93296bda"),a.subscribe(_,(function(t,r){if(_i_("edd:96bdd4c7"),"search-web"===i&&"searchresults"===e&&"CAPLA_EVENT_genius_vip_BANNER_VIEW"===_){if(n)return _r_();n=!0}d(r.campaign,_,r.actionName),_r_()})),_r_()}(s);_r_()}document.addEventListener("booking-capla-initialized",(function(_){_i_("edd:c878d6f6"),a({eventBus:_.detail.eventBus}),_r_()})),t(i,e,a)(),_r_()},getAttr:function(_){return _i_("edd:fe9eb4eb"),_r_(this.$el.attr(_)||"")}});e.exports=s,_r_()}));