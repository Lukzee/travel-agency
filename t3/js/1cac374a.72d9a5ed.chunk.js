/*! For license information please see 1cac374a.72d9a5ed.chunk.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["1cac374a"],{64394:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(98178),i=n(10071),r=function(){var e=(0,i.getRequestContext)().getSiteType();return{isWWW:e===a.N.WWW,isMDOT:e===a.N.MDOT,isTDOT:e===a.N.TDOT}}},47262:function(e,t,n){"use strict";n.r(t),n.d(t,{ProgramContext:function(){return bt},default:function(){return St}});var a,i,r,o=n(13736),l=n(83966),s=n.n(l),c=n(10071),d=n(20011),u=n(92577),m=n(80867),g=(0,l.createContext)({}),_=(g.Consumer,function(e){var t=e.openOnLoad,n=e.isMdot,a=e.onAfterClose,i=e.children,r=e.actionBar,o=e.sheetContainerProps,c=e.closeAriaLabel,_=(0,l.useReducer)((function(e){return e&&a&&a(),!e}),void 0!==t&&t),p=(0,u.Z)(_,2),f=p[0],v=p[1],h={active:!0,onCloseTrigger:v,position:n?"bottom":"center",closeAriaLabel:c||""},k=(0,l.useState)(null),b=(0,u.Z)(k,2),y=b[0],S=b[1],N=(0,l.useState)(null),E=(0,u.Z)(N,2),O=E[0],x=E[1];return n&&r&&Object.assign(h,{footer:r}),o&&Object.assign(h,o),s().createElement(g.Provider,{value:{isOpen:f,toggle:v,setContent:function(e){return!y&&S(e)},setHeader:function(e){return!O&&x(e)},resetContent:function(e){return S(e)}}},i,f?s().createElement(m.SheetContainer,(0,d.Z)({},O,h),y):null)}),p=n(15364),f=n(40931),v=n(49829),h=n(90006),k=n(69422),b={kind:"Document",definitions:function(e){var t={};return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"indexVipBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipUIsInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"geniusVipEnrolledProgram"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipNoEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipEnrolledProgram"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"programType"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"threshold"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"upperLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockMetadata"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SpendAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountTotalUserSpent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookAndUnlockReward"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"userProgress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"geniusVipUIs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"indexBanner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexUiContent"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgressBar"},directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"indexModal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IndexModal"},directives:[]},{kind:"Field",name:{kind:"Name",value:"modalCategory"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uniqueKey"},arguments:[],directives:[]}]}}]}}]}}]}}]}}].concat([{kind:"FragmentDefinition",name:{kind:"Name",value:"TextWithTranslationTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TextWithTranslationTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BannerImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexUiContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dismissible"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgressBar"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipBanner"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progressBar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"indicators"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formattedValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"IndexModal"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GeniusVipInfoModal"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subtitle"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextWithTranslationTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"asset"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"BannerImage"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cta"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actionDismiss"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Price"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockUserProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isOnboarding"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRewardsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxBookingsReached"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rounds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"index"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardsSent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isStarted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardAmount"},arguments:[],directives:[]}]}}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockReward"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"formattedCurrencies"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amountEarned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amountPendingTotal"},arguments:[],directives:[]}]}}]}}],[{kind:"FragmentDefinition",name:{kind:"Name",value:"BookAndUnlockMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookAndUnlockProgramMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rewardPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookingsPerRound"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxRounds"},arguments:[],directives:[]}]}}])),loc:{start:0,end:1114,source:{body:"\n  query indexVipBanner($input: GeniusVipUIsInput) {\n    geniusVipEnrolledProgram(input: $input) {\n      __typename\n      ... on GeniusVipNoEnrolledProgram {\n        reason\n      }\n      ... on GeniusVipEnrolledProgram {\n        metadata {\n          programType\n          ... on SpendAndUnlockProgramMetadata {\n            rewardPercent\n            threshold {\n              ...PriceFields\n            }\n            upperLimit {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockMetadata\n        }\n        reward {\n          ... on SpendAndUnlockReward {\n            amountTotalUserSpent {\n              ...PriceFields\n            }\n          }\n          ...BookAndUnlockReward\n        }\n        userProgress {\n          ...UserProgress\n        }\n        geniusVipUIs {\n          indexBanner {\n            ...IndexUiContent\n            ...ProgressBar\n            endDate {\n              text\n            }\n          }\n          indexModal {\n            ...IndexModal\n            modalCategory\n            uniqueKey\n          }\n        }\n      }\n    }\n  }\n\n  \n  \n  \n  \n  \n  \n  \n  \n  \n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},y=function(e,t){return!!e&&t.every((function(t){return null!=e[t]}))},S=n(89895);S.Qv["en-gb"],S.Qv["en-us"],S.Qv.de,S.Qv.es,S.Qv.fr,function(e){e.BANNER_VIEW="CAPLA_EVENT_genius_vip_BANNER_VIEW",e.BANNER_CTA_CLICK="CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",e.BANNER_DISMISS="CAPLA_EVENT_genius_vip_BANNER_DISMISS",e.MODAL_VIEW="CAPLA_EVENT_genius_vip_MODAL_VIEW",e.MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_MODAL_CTA_CLICK",e.MODAL_DISMISS="CAPLA_EVENT_genius_vip_MODAL_DISMISS",e.REMINDER_MODAL_VIEW="CAPLA_EVENT_genius_vip_REMINDER_MODAL_VIEW",e.REMINDER_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_REMINDER_MODAL_CTA_CLICK",e.REMINDER_MODAL_DISMISS="CAPLA_EVENT_genius_vip_REMINDER_MODAL_DISMISS",e.LOGIN_MODAL_VIEW="CAPLA_EVENT_genius_vip_LOGIN_MODAL_VIEW",e.LOGIN_MODAL_CTA_CLICK="CAPLA_EVENT_genius_vip_LOGIN_MODAL_CTA_CLICK",e.LP_VIEW="CAPLA_EVENT_genius_vip_LP_VIEW",e.PROGRESS_CTA_CLICK="CAPLA_EVENT_genius_vip_PROGRESS_CTA_CLICK"}(a||(a={})),function(e){e.INDEX="index",e.SEARCH_RESULTS="searchresults",e.HOTEL="hotel",e.BOOK="book",e.BOOK2="book2",e.CONFIRMATION="confirmation",e.MY_RESERVATIONS="myreservations",e.MY_BOOKING="mybooking",e.WALLET="rewards_and_wallet",e.LP="genius_vip_campaigns"}(i||(i={})),function(e){e.WELCOME="welcome",e.REMINDING="reminding",e.LOGIN="login",e.EXPIRE="expire"}(r||(r={}));var N,E,O="vip_token",x="vip_campaign";!function(e){e.BookAndUnlock="BookAndUnlock",e.FreeRoomUpgrade="FreeRoomUpgrade",e.InstantCredit="InstantCredit",e.InstantDiscount="InstantDiscount",e.InstantVoucher="InstantVoucher",e.OneOffVoucher="OneOffVoucher",e.SpendAndUnlock="SpendAndUnlock"}(N||(N={})),function(e){e.BOOKING_DETAIL="BOOKING_DETAIL",e.BOOKING_PROCESS_1="BOOKING_PROCESS_1",e.BOOKING_PROCESS_2="BOOKING_PROCESS_2",e.CONFIRMATION_PAGE="CONFIRMATION_PAGE",e.INDEX="INDEX",e.LANDING_PAGE="LANDING_PAGE",e.PROPERTY_PAGE="PROPERTY_PAGE",e.ROOM_DETAIL="ROOM_DETAIL",e.SEARCH_RESULTS="SEARCH_RESULTS",e.WALLET="WALLET"}(E||(E={}));var I=n(23059),C=n(39777);(0,I.registerDynamicTags)((0,I.t)("date_format","fakeIndex","short_date"));var P,T="short_date",w=n(31191),D=new Map([["AFA",0],["BHD",3],["BIF",0],["BYR",0],["CLP",0],["COP",0],["DJF",0],["ECS",0],["GNF",0],["HUF",0],["IDR",0],["IQD",3],["ISK",0],["JOD",3],["JPY",0],["KMF",0],["KRW",0],["KWD",3],["LAK",0],["LYD",3],["MGA",0],["MZM",0],["OMR",3],["PYG",0],["RWF",0],["TJR",0],["TMM",0],["TND",3],["TWD",0],["UGX",0],["VND",0],["VUV",0],["XAF",0],["XOF",0],["XPF",0],["RUB",0]]),L=Object.freeze({CEIL:"CEIL",FLOOR:"FLOOR"}),A=new Map([["AFA",L.CEIL],["BIF",L.FLOOR],["BYR",L.FLOOR],["CLP",L.FLOOR],["DJF",L.FLOOR],["ECS",L.FLOOR],["GNF",L.FLOOR],["IDR",L.FLOOR],["ISK",L.FLOOR],["JPY",L.FLOOR],["KMF",L.FLOOR],["KRW",L.FLOOR],["LAK",L.FLOOR],["MGA",L.FLOOR],["MZM",L.FLOOR],["PYG",L.FLOOR],["RUB",L.FLOOR],["RWF",L.FLOOR],["TJR",L.FLOOR],["TMM",L.FLOOR],["TWD",L.FLOOR],["UGX",L.FLOOR],["VND",L.FLOOR],["VUV",L.FLOOR],["XAF",L.FLOOR],["XOF",L.FLOOR],["XPF",L.FLOOR]]),R=new Map([["HUF",5],["COP",20]]),F=new Map([["bg","."],["es",","],["es-mx","."],["hu","."]]),M=new Map([["bg"," "],["et"," "],["es","."],["es-ar","."],["es-mx",","],["fr"," "],["hi",","],["ka"," "],["lv"," "],["pl"," "],["pt-br","."],["pt-pt"," "]]),U=new Map([["CNY-zh-cn",""],["GBP",""],["KRW-ko",""],["JPY",""],["USD",""]]),B=new Map([["ARS","AR$"],["ARS-country-ar","$"],["BRL","R$"],["CLP","CL$"],["CLP-country-cl","$"],["CNY-zh-cn","元"],["CZK","Kč"],["GBP","£"],["EUR","€"],["HKD","HK$"],["IDR","Rp"],["ILS","₪"],["ISK-is","kr."],["INR","Rs."],["INR-country-in","₹"],["JPY","¥"],["JPY-ja","￥"],["KRW-ko","₩"],["KWD-ar","د.ك."],["PHP","₱"],["PLN","zł"],["RUB-ru","руб."],["RON","lei"],["SGD","S$"],["USD","US$"],["USD-us-en-us","$"],["TRY","TL"],["XPF","CFP"]]),j=new Map([["CNY-zh-cn","after"],["CZK","after"],["ILS-ar","after"],["ILS-he","after"],["ISK-is","after"],["PLN","after"],["RON","after"],["RUB-ru","after"]]),Z=new Map;function V(e,t,n,a,i){void 0===i&&(i=!0),n=n.toLowerCase();var r=(0,w.CR)(n.split("-"),1)[0];if(A.get(e))if(A.get(e)===L.CEIL){var o=.5;t=Math.ceil(t/o)*o}else{var l=t-.5;t=Number(Math.round((Number.isInteger(l)?l:t)/1))}else R.get(e)&&(o=R.get(e)||1,t=Math[t%o<=.5?"floor":"ceil"](t/o)*o);var s=function(e,t,n){var a=Number.isInteger(t)?e+"__"+n+"__int":e+"__"+n;if(!Z.has(a)){var i={style:"currency",currency:e,currencyDisplay:"code",numberingSystem:"latn",minimumFractionDigits:G(e,t)},r=new Intl.NumberFormat(n,i);Z.set(a,r)}return Z.get(a)}(e,t,n).formatToParts(t);return"he"===r&&"literal"===s[0].type&&s.shift(),(s=function(e,t){var n=(0,w.CR)(t.split("-"),1)[0];if(["bg","es","et","hi","ka","lv","pl","pt"].indexOf(n)<0)return e;var a=W(t," "),i=[],r=[];for(e=e.filter((function(e){return"group"!==e.type}));"integer"!==e[0].type;)r.push(e.shift());for(;e.length>0&&"integer"===e[0].type;)i=i.concat(e[0].value.split("")),e.shift();for(var o="",l=i.length-1;l>=0;l--)(o=i.pop()+o).length%3==0&&(e.unshift({type:"integer",value:o}),i.length>0&&e.unshift({type:"group",value:a}),o="");return""!==o&&e.unshift({type:"integer",value:o}),e=r.concat(e)}(s=function(e,t,n){var a=function(e,t){var n=(0,w.CR)(e.split("-"),1)[0];return j.has(t+"-"+e)?j.get(t+"-"+e):j.has(t+"-"+n)?j.get(t+"-"+n):j.has(t)?j.get(t):"before"}(t,n);if("currency"===e[0].type&&"after"===a){var i=e.shift(),r=e.shift();e.push(r),e.push(i)}else"currency"===e[e.length-1].type&&"before"===a&&(i=e.pop(),r=e.pop(),e.unshift(r),e.unshift(i));return e}(s=function(e,t,n){if(0!==G(t,n))return e;for(var a=e.length-1;a>=0;a--)if("fraction"===e[a].type||"decimal"===e[a].type)e.splice(a,1);else if("integer"===e[a].type)return e;return e}(s,e,t),n,e),n)).map((function(t){var r=t.type,o=t.value;switch(r){case"group":return W(n,o);case"decimal":return function(e,t){var n=(0,w.CR)(e.split("-"),1)[0];return F.has(e)?F.get(e):F.has(n)?F.get(n):t}(n,o);case"currency":return i?function(e,t,n){var a=(0,w.CR)(e.split("-"),1)[0];return B.has(t+"-"+e)?B.get(t+"-"+e):n&&B.has(t+"-"+n+"-"+e)?B.get(t+"-"+n+"-"+e):n&&B.has(t+"-country-"+n)?B.get(t+"-country-"+n):B.has(t+"-"+a)?B.get(t+"-"+a):B.has(t)?B.get(t):t}(n,o,a):"";case"literal":return i?function(e,t,n){var a=(0,w.CR)(t.split("-"),1)[0];return U.has(e+"-"+t)?U.get(e+"-"+t):U.has(e+"-"+a)?U.get(e+"-"+a):U.has(e)?U.get(e):n}(e,n,o):"";default:return o}})).reduce((function(e,t){return e+t}))}function G(e,t){return Number.isInteger(t)?0:D.get(e)}function W(e,t){var n=(0,w.CR)(e.split("-"),1)[0];return M.has(e)?M.get(e):M.has(n)?M.get(n):t}var K,z,X,Y,H=function(){return Date.now()-1680505199e3>0||(0,f.isFeatureRunning)((0,f.feature)(P||(P=(0,o.Z)(["cQYIMdUTNOUbWNHGHbfEGfMKMLdeLSfBUUGXC"]))))},q=function(e,t){if(!e)return{indexModal:{},modalCatgory:r.EXPIRE};var n=function(e,t){if(!e)return null;var n=(0,c.getRequestContext)().getLanguage(),a=(0,c.getRequestContext)().getVisitorCountry()||"",i=e.get(O),r=e.get(x),o=V("USD",25,n,a),l=e.get("vip_signature"),s=e.get("offlineModalShown");if(!i||!r||s||!l)return null;var d=H(),u=new Date(1680479999e3);return{campaignExpired:d,programType:r,voucherValueFormatted:o,expirationDateFormatted:(0,C.p6)(t,{date:"".concat(u.getUTCFullYear(),"-").concat(u.getUTCMonth()+1,"-").concat(u.getUTCDate()),form:T})}}(e,t);return n?n.campaignExpired?{indexModal:J(t),modalCatgory:r.EXPIRE}:{indexModal:Q(t,n.voucherValueFormatted,n.expirationDateFormatted),modalCatgory:r.LOGIN}:{indexModal:{},modalCatgory:r.EXPIRE}},J=function(e){return{title:e.trans((0,I.t)("vip_offline_oneoff_bottom_sheet_expire_title")),subtitle:e.trans((0,I.t)("vip_offline_oneoff_bottom_sheet_expire_description")),cta:[{text:e.trans((0,I.t)("vip_offline_oneoff_bottom_sheet_expire_cta")),actionDismiss:!0}],asset:"https://bstatic.com/data/mobile/voucherExpired.png",campaignExpired:!0}},Q=function(e,t,n){var a=(0,c.getRequestContext)().getBasePageUrl();return{title:e.trans((0,I.t)("vip_offline_oneoff_bottom_sheet_sign_in_title",{variables:{voucher_value:t}})),subtitle:e.trans((0,I.t)("vip_offline_oneoff_bottom_sheet_sign_in_description",{variables:{exp_date:n}})),cta:[{text:e.trans((0,I.t)("vip_offline_oneoff_bottom_sheet_sign_in_cta")),actionString:"index",actionParams:{login_redirect:a.toString()}}],asset:"https://bstatic.com/data/mobile/voucheractive.png",campaignExpired:!1}},$=n(47169),ee="f420f6bbf2",te="eea513fff0",ne="c72aded5f7",ae="c82d14d624",ie="de712accea",re="e7ce666a86",oe="dccdf01c32",le="d6bedc5a57",se=n(36655),ce=n(13613),de=["name","content","defaults","isLoading","loaderProps"];function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){var t=e.name,n=e.onClick,a=e.callback,i=e.href,r=e.newTab,o=e.content,l=e.isLoading,c=e.loaderProps;return l?s().createElement(m.SkeletonLoader,(0,d.Z)({attributes:{"data-testid":t}},c)):a?s().createElement(m.Actionable,{onClick:function(e){n?n(e):i&&(r?window.open(i,"_blank"):window.location.href=i),a()}},o):n?s().createElement(m.Actionable,{onClick:n},o):s().createElement(m.Actionable,{href:i,attributes:r?{target:"_blank"}:{}},o)}function _e(e){var t=e.name,n=e.content,a=e.defaults,i=e.isLoading,r=e.loaderProps,o=(0,ce.Z)(e,de);return i?s().createElement(m.SkeletonLoader,(0,d.Z)({attributes:{"data-testid":t}},r)):n?s().createElement(m.Text,(0,d.Z)({},a,o),n):null}function pe(e){var t=e.forwardedRef,n=e.headline,a=e.image,i=e.imagePosition,r=e.imageClassName,o=e.imageLoaderProps,c=e.textBlock,u=e.suptitle,g=e.title,_=e.subtitle,p=e.action,f=e.containerProps,v=e.horizontalLayoutProps,h=e.textLayoutProps,k=e.actionLayoutProps,b=e.ctaLayoutProps,y=e.extraColumnLayoutProps,S=e.dismissibleProps,N=e.extraColumnProps,E=e.headlineGap,O=e.isLoading,x=null;p&&(x=p instanceof Array?p.map((function(e){return s().createElement(ge,(0,d.Z)({key:"action",name:"action"},e,{isLoading:O}))})):s().createElement(ge,(0,d.Z)({},p,{name:"action",isLoading:O})));var I=c||s().createElement(m.Stack,{gap:0},u?s().createElement(m.Stack.Item,null,s().createElement(_e,(0,d.Z)({name:"suptitle",isLoading:O,loaderProps:null==u?void 0:u.loaderProps,variant:"body_1",content:"object"===(0,se.Z)(u)?null==u?void 0:u.children:u},"string"!=typeof u&&u))):null,s().createElement(m.Stack.Item,null,s().createElement(m.Stack,(0,d.Z)({direction:"row"},y),s().createElement(m.Stack.Item,{grow:!0},s().createElement(m.Stack,h,s().createElement(m.Stack.Item,null,g?s().createElement(_e,(0,d.Z)({name:"title",isLoading:O,loaderProps:null==g?void 0:g.loaderProps,variant:"featured_1",content:"object"===(0,se.Z)(g)?null==g?void 0:g.children:g},"string"!=typeof g&&g)):null),_?s().createElement(m.Stack.Item,null,s().createElement(_e,(0,d.Z)({name:"subtitle",isLoading:O,loaderProps:null==_?void 0:_.loaderProps,color:"neutral_alt",content:"object"===(0,se.Z)(_)?null==_?void 0:_.children:_},"string"!=typeof _&&_))):null)),N?s().createElement(m.Stack.Item,N,N.content):null))),C=S?m.DismissibleContainer:l.Fragment;return f&&Object.assign(f,me(me({},f),{},{attributes:me(me({},null==f?void 0:f.attributes),{},{ref:t})})),s().createElement(m.Box,f,s().createElement(C,S,s().createElement(m.Stack,{gap:E},n?s().createElement(m.Stack.Item,null,s().createElement(_e,(0,d.Z)({name:"headline",isLoading:O,loaderProps:null==n?void 0:n.loaderProps,variant:"headline_2",content:"object"===(0,se.Z)(n)?null==n?void 0:n.children:n},"string"!=typeof n&&n))):null,s().createElement(m.Stack.Item,null,s().createElement(m.Stack,(0,d.Z)({},v,{direction:"right"===i?"row-reverse":"row"}),a?s().createElement(m.Stack.Item,{className:r},O?s().createElement(m.SkeletonLoader,(0,d.Z)({attributes:{"data-testid":"image"}},o)):a):null,s().createElement(m.Stack.Item,{grow:!0},s().createElement(m.Stack,(0,d.Z)({gap:6},k),s().createElement(m.Stack.Item,null,I),x?s().createElement(m.Stack.Item,null,s().createElement(m.Stack,(0,d.Z)({direction:"row"},b),x)):null)))))))}var fe=(0,l.forwardRef)((function(e,t){return s().createElement(pe,(0,d.Z)({},e,{forwardedRef:t}))}));fe.displayName="CampaignBannerWithRef";var ve=n(17068),he="a213669eee",ke="bd6e6e573f",be="a1f386fa1f",ye="feea691fa5",Se="cdab232c3e",Ne="d463dc7303",Ee="bb284785b4",Oe="beb419b55c",xe="c80533ec84",Ie=n(40841),Ce=n.n(Ie),Pe=n(31655);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var we=function(e){if(!e.progress||e.indicators.length<5)return null;var t,n,a,i,r,o=(0,Pe.isRTL)(),l=(t=e.progress,n=e.upperLimit,a=e.threshold,i=e.indicators,r=e.size,t<=a?"large"===r?i.slice(2):i.slice(2,4):t>a&&t<n-a?"large"===r?i.slice(1,4):i.slice(1,3):t===n-a?"large"===r?i.slice(1,4):i.slice(2,4):"large"===r?i.slice(0,3):i.slice(1,3)),c=function(t,n,a,i){var r={large:n-2*a,medium:n-a,small:n-a},l="large"===e.size&&t>r[e.size],s="large"!==e.size&&t>=r[e.size],c=l||s,d=(t-(l?i[0].value:i[0].value-a))/(c?2*a:(i.length+1)*a)*100+"%";if("small"===e.size)return{fillerLengthPercentage:d};var u=c?.5:Math.round(1/(i.length+1)*100)/100,m=l?0:u,g=i.map((function(t,n){var a=t.formattedValue.length>15,r=o?100*(1-(m+n*u))+"%":100*(m+n*u)+"%",l="white",s="none",g="unset",_=o?100-parseInt(r):parseInt(r);_<=parseInt(d)&&(l="#FEBB02",s="".concat(xe),g=_?"".concat(1/parseInt(d)*_*1e3+100,"ms"):"unset");var p={left:"calc(".concat(r," - ").concat("5px",")"),backgroundColor:l,animationName:s,animationDuration:g},f=Ce()(Se,a&&Ne);return c&&(n===i.length-1?(Object.assign(p,o?{left:0,right:"unset"}:{left:"unset",right:0}),f=Ce()(Se,a&&Ne,Oe)):"large"===e.size&&0===n&&(Object.assign(p,o?{right:0}:{left:0}),f=Ce()(Se,a&&Ne,Ee))),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"indicator_".concat(n),style:p,className:f},t)}));return{fillerLengthPercentage:d,indicators:g}}(e.progress,e.upperLimit,e.threshold,l),d=Ce()(ke,"small"===e.size&&be),u=Ce()(ye,"small"===e.size&&be);return s().createElement("div",{className:he},s().createElement("div",{className:d},s().createElement("div",{className:u,style:{width:c.fillerLengthPercentage}})),c&&c.indicators&&c.indicators.map((function(e){return s().createElement("div",{key:e.id,className:e.className,style:e.style,"data-indicator-label":e.formattedValue})})))},De={"vip-highlight":"vip-highlight","vip-link":"vip-link","vip-bold":"vip-bold","vip-black-bold":"vip-black-bold","vip-semi-bold":"vip-semi-bold"},Le=Object.keys(De),Ae=new RegExp("(".concat("<","|").concat("</",")(").concat(Le.join("|"),")(-[0-9]+)*>"),"g"),Re=function(e,t,n,a,i){return i?s().createElement(t,{key:a,href:i,className:n},e):s().createElement(t,{key:a,className:n},e)},Fe=function(e,t){if(!e)return"";for(var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"span",i=Object.assign({},De,t),r=[],o=[],l=0,s=arguments.length,c=new Array(s>3?s-3:0),d=3;d<s;d++)c[d-3]=arguments[d];for(;null!==(n=Ae.exec(e));){var m=n,g=(0,u.Z)(m,4),_=g[1],p=g[2],f=g[3];switch(_){case"<":l!==Ae.lastIndex&&0!==Ae.lastIndex&&(o.length?o[o.length-1].temp.push(e.slice(l,n.index)):r.push(e.slice(l,n.index))),o.push({rule:p,temp:[]}),l=Ae.lastIndex;break;case"</":var v=o.pop();if(v&&v.rule===p){var k="vip-link"===p,b=void 0;k&&(b="string"==typeof f?c[+f.substring(1)-1]:c.shift()),o.length?(v.temp.push(e.substring(l,n.index)),o[o.length-1].temp.push(Re(v.temp,k?"a":a,i[p],l,k?b:""))):(l!==n.index&&v.temp.push(e.substring(l,n.index)),r.push(Re(v.temp,k?"a":a,i[p],l,k?b:"")))}else o.length?o[o.length-1].temp.push(e.substring(l,n.index)):r.push(e.substring(l,n.index)),(0,h.reportWarning)("copyTagParser found tags mismatch in [".concat(e,"]"));l=Ae.lastIndex}}for(var y=o.pop();y;)o.length?o[o.length-1].temp.push(y.temp):r.push(y.temp),y=o.pop();return l!==e.length&&r.push(e.slice(l,e.length)),r},Me={index:"app",searchresults:"app",hotel:"app",genius:"app",genius_vip:"app",genius_vip_campaigns:"app",vip_oneoff_voucher_tnc:"app",book:"book",confirmation:"book",mybooking:"book",myreservations:"book",rewards_and_wallet:"book",help:"book","":"app"},Ue=/^(content\/)(terms|wallet-terms)/,Be=/^(rewards_and_wallet\/)/;function je(e,t,n){var a=(0,c.getRequestContext)().getLanguage(),i=e.split("#"),r=(0,u.Z)(i,2),o=r[0],l=r[1],s=function(e){return Ue.test(e)?"app":Be.test(e)?"book":Me[e]}(o)||void 0,d=new URLSearchParams;if(t&&d.append("src",t),n)for(var m=0,g=Object.entries(n);m<g.length;m++){var _=(0,u.Z)(g[m],2),p=_[0],f=_[1];d.append(p,f)}for(var v=function(e){return e.indexOf("voucher")>-1?{page_type:"legacy"}:{}}(o),h=0,k=Object.entries(v);h<k.length;h++){var b=(0,u.Z)(k[h],2),y=b[0],S=b[1];d.append(y,S)}var N="en-us"===a?"/".concat(o,".html"):"/".concat(o,".").concat(a,".html"),E=(0,Pe.constructUrl)({host:s,pathname:N,searchParams:d});return l?"".concat(E.toString(),"#").concat(l):E.toString()}var Ze=n(2419),Ve=function(e){var t=(0,Ze.YD)({threshold:0,triggerOnce:!0}),n=(0,u.Z)(t,2),a=n[0],i=n[1];return(0,l.useEffect)((function(){i&&e&&e()}),[i,e]),a},Ge=function(e,t){var n=(0,l.useRef)(!1);return(0,l.useCallback)((function(){e&&t&&(n.current||(ve.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_VIEW",{campaign:t,actionName:e}),n.current=!0))}),[e,t])},We=n(21930),Ke={sliderContainer:"a5e5f2c30e",innerWrapper:"ec0695d8bb",gappedSlider:"b2a34b3a24",indicatorContainer:"f1d2559f9d",indicator:"c03b4a5a61","indicator--dot":"cd114cfb51","indicator--bar":"d1e8980d1e"};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=function(e){var t=e.children,n=e.indicatorStyle,a=e.speed,i=void 0===a?1e3:a,r=e.transitionSpeed,o=void 0===r?600:r,c=e.slideWidth,d=e.wrapperClassName,m=e.gap,g=void 0===m||m,_=l.Children.toArray(t),p=_.length,f=(0,We.Z)(_.keys()),v=(0,l.useState)({currentIndex:0,translateX:0,transitionStyle:"transform ".concat(o,"ms ease-out"),_slider:_}),h=(0,u.Z)(v,2),k=h[0],b=h[1],y=(0,Pe.isRTL)(),S=k.currentIndex,N=k.translateX,E=k.transitionStyle,O=k._slider,x=(0,l.useState)({}),I=(0,u.Z)(x,2),C=I[0],P=I[1],T=(0,l.useRef)(0),w=(0,l.useRef)(null),D=(0,l.useRef)(0);(0,l.useEffect)((function(){var e;D.current=Math.max((null===(e=w.current)||void 0===e?void 0:e.clientHeight)||0,D.current),D.current>0&&P({height:"".concat(D.current,"px")})}),[t]);var L=function(){b(Xe(Xe({},k),{},{currentIndex:T.current<p-1?T.current+1:0,translateX:c,transitionStyle:"transform ".concat(o,"ms ease-out")}))};return(0,l.useEffect)((function(){var e;return T.current=S,p>=2&&(e=window.setInterval(L,i)),function(){e&&window.clearInterval(e)}})),s().createElement("div",{className:d,style:{width:"".concat(c,"px")}},p<2?t:s().createElement(s().Fragment,null,s().createElement("div",{className:Ke.sliderContainer,ref:w,style:C},s().createElement("div",{className:Ce()(Ke.innerWrapper,g&&Ke.gappedSlider),style:{transform:y?"translateX(".concat(N,"px)"):"translateX(-".concat(N,"px)"),transition:"".concat(E)},onTransitionEnd:function(){var e=_.slice(T.current,T.current+2);p>1&&e.length<2&&e.push(_[0]),b(Xe(Xe({},k),{},{translateX:0,transitionStyle:"",_slider:e}))}},O)),s().createElement("div",{className:Ke.indicatorContainer},f.map((function(e,t){return s().createElement("div",{key:e,className:Ce()(Ke.indicator,Ke["indicator--".concat(n)]),style:t===S?{opacity:1}:{opacity:.3}})})))))},He={badgeContainer:"ec20d38fa6",medium:"a9db490d31",small:"e7f5203cea",large:"e7446efd24",badgeRingContainer:"d839968fd2",ring:"d6971c0918",blue:"af9f422cee",progress:"d6f8aa6d40",golden:"eed9a75a5b",text:"ccdcfe57e4",badgeCompletedNumber:"a67778fd88",badgeTotalNumber:"b8f0ab5140",badgeNoBookingNumber:"fd56063d48",inner:"e1c4642331",iconImg:"ad1484d069",badgeText:"e3a347e3f9",progressText:"c3de020998",size80:"bbfe2a559f",progressRing:"cc4564610e"},qe=function(e){var t=e.badgeSize,n=e.className,a=e.angle,i=void 0===a?90:a,r=e.radius,o=void 0===r?55:r,l=e.strokeWidth,c=void 0===l?10:l,d=e.gap,u=void 0===d?8:d,m=e.currentStep,g=void 0===m?3:m,_=e.totalSteps,p=void 0===_?5:_,f=e.theme,v=void 0===f?"blue":f,h=e.children,k={strokeWidth:t?10:c,gap:t?8:u,radius:t?55:o,angle:t?90:i},b=2*k.radius+k.strokeWidth,y=b/2,S=y-Math.sin(i/2/180*Math.PI)*k.radius,N=y+Math.sin(i/2/180*Math.PI)*k.radius,E=y+Math.cos(i/2/180*Math.PI)*k.radius,O="M ".concat(S," ").concat(E," A ").concat(k.radius," ").concat(k.radius," 0 ").concat(+(i<180)," 1 ").concat(N," ").concat(E),x=Math.PI*k.radius*(360-i)/180,I=(x-k.gap*(p-1))/p-k.strokeWidth*(p-1)/p,C="".concat(I,"px ").concat(k.gap+k.strokeWidth,"px"),P=g>0?{strokeDasharray:u>0?"".concat((C+" ").repeat(g-1)," ").concat(I,"px ").concat(x,"px"):"".concat(x*g/p,"px ").concat(x,"px")}:void 0;return s().createElement("div",{className:Ce()(n,He.badgeContainer,t&&He[t])},s().createElement("div",{className:Ce()(He.badgeRingContainer,He[v])},s().createElement("svg",{viewBox:"0 0 ".concat(b," ").concat(b),fill:"none"},s().createElement("g",{transform:"scale(1,1)"},s().createElement("path",{d:O,className:He.ring,strokeWidth:k.strokeWidth||c,strokeDasharray:u>0?C:void 0}),g>0?s().createElement("path",{d:O,style:P,className:Ce()(He.ring,He.progress),strokeWidth:k.strokeWidth||c}):null)),h?s().createElement("div",{className:He.inner},h):null))};qe.Text=function(e){var t=e.badgeSize,n=e.currentStep,a=e.totalSteps,i=e.theme,r=e.className,o={small:{completedTextSize:"headline_2",totalTextSize:"body_2"},medium:{completedTextSize:"headline_1",totalTextSize:"featured_3"},large:{completedTextSize:"headline_1",totalTextSize:"strong_1"}}[t||"medium"];return s().createElement("div",{className:Ce()(He.badgeText,r,i&&He[i])},s().createElement(m.Text,{variant:o.completedTextSize,className:Ce()(He.text,n>0?He.badgeCompletedNumber:He.badgeNoBookingNumber)},Math.max(0,n)),s().createElement(m.Text,{variant:o.totalTextSize,className:Ce()(He.text,n>0?He.badgeTotalNumber:He.badgeNoBookingNumber)},"/",a))};var Je=qe,Qe=function(e){var t=e.size,n=void 0===t?"medium":t,a=e.theme,i=void 0===a?"blue":a,r=e.bookingsCount,o=e.maxCount,l=e.rewardsSent,c=e.isGappedRing,u=void 0===c||c,g=e.iconSrc,_=e.additionalText,p=l?"https://bstatic.com/xdata/images/xphoto/max300/155161147.png?k=d70408f26332684fc7ad8476baf145813e2e71a7d8d89a40645bcc97cda6f00e&o=":"https://bstatic.com/xdata/images/xphoto/max300/155161149.png?k=02a71e2df8269c8f9783c405dcc3854ef4a727b739a7202aed1caa64dae5141a&o=",f={small:"48px",medium:"64px",large:"70px"}[n],v={badgeSize:n,theme:i,currentStep:r,totalSteps:o,gap:u?8:0,radius:60,angle:100};return s().createElement(m.Stack,{gap:null==_?void 0:_.gap,alignItems:"center"},s().createElement(m.Stack.Item,null,s().createElement("div",{className:He.progressRing},s().createElement(Je,v,s().createElement(m.Image,{src:g||p,fallback:null,width:f,height:f,className:Ce()(He.iconImg,n)}),s().createElement(Je.Text,(0,d.Z)({},v,{className:He.progressText}))))),null!=_&&_.content.length?s().createElement(m.Stack.Item,null,s().createElement(m.Text,_.textProps,_.content)):null)};function $e(e){var t,n=(0,l.useContext)(bt).programType,a=e.asset,i=e.title,r=e.subtitle,o=e.endDate,c=e.progressBar,u=e.cta,g=e.bookAndUnlockRounds,_=c&&c.progress>0,p=function(e){return e?je(e||"","index",{banner:"index"}):""},f=function(){ve.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:n,actionName:"index"})},v={containerProps:{backgroundColor:"brand_primary",className:ae},horizontalLayoutProps:{alignItems:"center",gap:8},image:s().createElement(m.Image,{width:"144px",height:"144px",src:a,fallback:null}),title:{children:Fe(i,{"vip-highlight":le}),variant:"headline_3",className:_?re:""},suptitle:{children:o,variant:"body_2",className:_?"":ee},subtitle:_?void 0:{children:r,variant:"body_1",color:"white"},extraColumnProps:{content:c&&s().createElement(we,(0,d.Z)({},c,{size:"medium"})),className:_?oe:void 0},extraColumnLayoutProps:{alignItems:"end"},action:null==u?void 0:u.map((function(e){return{content:s().createElement(m.Button,{text:e.text,variant:"primary",size:"medium"}),href:p(e.actionString),callback:f}})),actionLayoutProps:{gap:4}},h={containerProps:{backgroundColor:"brand_primary",className:Ce()(ae,ie),padding:4},horizontalLayoutProps:{alignItems:"stretch",gap:4},imagePosition:"right",image:g?s().createElement(Ye,{speed:4e3,indicatorStyle:"bar",slideWidth:92},g.map((function(e){return s().createElement(Qe,(0,d.Z)({},e.ringProps,{key:"slider_".concat(e.index)}))}))):s().createElement(m.Image,{width:120,height:120,src:a,fallback:null}),action:null==u?void 0:u.map((function(e){return{content:s().createElement(m.Button,{text:e.text,variant:"primary",size:"medium"}),href:p(e.actionString),callback:f}})),actionLayoutProps:{gap:8,justifyContent:"space-between"},textBlock:s().createElement(m.Stack,{gap:1},o?s().createElement(m.Stack.Item,null,s().createElement(m.Text,{color:"white",variant:"body_2"},o)):null,s().createElement(m.Stack.Item,null,s().createElement(m.Text,{color:"white",variant:"headline_3"},Fe(i,{"vip-highlight":le}))),r?s().createElement(m.Text,{color:"white",variant:"body_1"},r):null)},k={containerProps:{backgroundColor:"brand_primary",className:Ce()(ae,ie)},imagePosition:"right",horizontalLayoutProps:{alignItems:"center",gap:8},image:s().createElement(m.Image,{width:"144px",height:"144px",src:a,fallback:null}),textLayoutProps:{gap:1},title:{children:Fe(i,{"vip-highlight":le}),variant:"headline_3",className:re},subtitle:{children:Fe(r),color:"white",variant:"body_1"},action:null==u?void 0:u.map((function(e){return{content:s().createElement(m.Button,{variant:"primary",text:e.text,size:"medium"}),href:p(e.actionString),callback:f}})),actionLayoutProps:{gap:8}},b=(t={},(0,$.Z)(t,N.BookAndUnlock,h),(0,$.Z)(t,N.InstantDiscount,k),(0,$.Z)(t,N.SpendAndUnlock,v),(0,$.Z)(t,N.InstantCredit,v),(0,$.Z)(t,N.FreeRoomUpgrade,{}),(0,$.Z)(t,N.OneOffVoucher,{}),(0,$.Z)(t,N.InstantVoucher,v),t),y=Ge("index",n),S=Ve(y);return s().createElement(fe,(0,d.Z)({},b[n],{ref:S}))}var et=n(78961);function tt(e){var t,n,a=(0,p.useI18n)(),i=null===(t=(0,c.getRequestContext)().getUserIdentity())||void 0===t?void 0:t.userId,r=i?i+" banner":"genius_vip_campaigns_index_banner",o=(0,et.c)(r,864e5),u=o.dismissed,g=o.closeDismissibleItem,_=(0,l.useContext)(bt).programType,f=function(){ve.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_DISMISS",{campaign:_,actionName:"index"}),g()},v=e.asset,h=e.title,k=e.subtitle,b=e.endDate,y=e.progressBar,S=e.cta,E=e.bookAndUnlockRounds,O=y&&y.progress>0,x=function(e){return je(e||"","index",{banner:"index"})},C=function(){ve.eventBus.publish("CAPLA_EVENT_genius_vip_BANNER_CTA_CLICK",{campaign:_,actionName:"index"})},P={containerProps:{backgroundColor:"brand_primary",className:ae},horizontalLayoutProps:{alignItems:"center",gap:4},image:s().createElement(m.Image,{width:"96px",height:"96px",src:v,fallback:null}),textBlock:s().createElement(m.Stack,{gap:2},s().createElement(m.Text,{variant:"small_1"},b),s().createElement(m.Text,{variant:"strong_1"},Fe(h,{"vip-highlight":le})),O&&y&&s().createElement(we,(0,d.Z)({},y,{size:"small"}))),action:null==S?void 0:S.map((function(e){return{content:s().createElement(m.Button,{text:e.text,variant:"primary",size:"medium"}),href:x(e.actionString||""),callback:C}})),dismissibleProps:{buttonColor:"inherit",closeAriaLabel:a.trans((0,I.t)("gc_banner_accessibility_close")),onClose:f},actionLayoutProps:{gap:4}},T={containerProps:{backgroundColor:"brand_primary",className:ae},horizontalLayoutProps:{alignItems:"center",gap:4},imagePosition:"right",image:E?s().createElement(Ye,{speed:4e3,indicatorStyle:"bar",slideWidth:92},E.map((function(e){return s().createElement(Qe,(0,d.Z)({},e.ringProps,{key:"slider_".concat(e.index)}))}))):s().createElement(m.Image,{width:84,height:84,src:v,fallback:null}),action:null==S?void 0:S.map((function(e){return{content:s().createElement(m.Button,{text:e.text,variant:"primary",size:"medium"}),href:x(e.actionString||""),callback:C}})),actionLayoutProps:{gap:8},textBlock:s().createElement(m.Stack,{gap:2},b?s().createElement(m.Stack.Item,null,s().createElement(m.Text,{color:"white",variant:"small_1"},b)):null,s().createElement(m.Stack.Item,null,s().createElement(m.Text,{color:"white",variant:"strong_1"},Fe(h,{"vip-highlight":le}))),k?s().createElement(m.Text,{color:"white",variant:"small_1"},k):null)},w={containerProps:{backgroundColor:"brand_primary",className:ae},horizontalLayoutProps:{alignItems:"center",gap:4},image:s().createElement(m.Image,{width:"84px",height:"84px",src:v,fallback:null}),textLayoutProps:{gap:2},title:{children:Fe(h,{"vip-highlight":le}),variant:"strong_1"},suptitle:{children:Fe(b),color:"white",variant:"small_1"},dismissibleProps:{buttonColor:"inherit",closeAriaLabel:a.trans((0,I.t)("gc_banner_accessibility_close")),onClose:f},action:null==S?void 0:S.map((function(e){return{content:s().createElement(m.Button,{text:e.text,variant:"primary",size:"medium"}),href:x(e.actionString||""),callback:C}})),actionLayoutProps:{gap:8}},D=(n={},(0,$.Z)(n,N.BookAndUnlock,T),(0,$.Z)(n,N.InstantDiscount,w),(0,$.Z)(n,N.SpendAndUnlock,P),(0,$.Z)(n,N.InstantCredit,P),(0,$.Z)(n,N.FreeRoomUpgrade,{}),(0,$.Z)(n,N.OneOffVoucher,{}),(0,$.Z)(n,N.InstantVoucher,P),n),L=Ge("index",_),A=Ve(L);return s().createElement("div",{className:u?te:ne},s().createElement(fe,(0,d.Z)({},D[_],{ref:A})))}var nt={TextWithTranslationTag:function(e){return e.text},Image:function(e){return e.url},GeniusVipIcon:function(e){return e.name}},at=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){if(t.__typename&&nt[t.__typename])return nt[t.__typename](t);if("object"!==(0,se.Z)(t))return t;for(var a in t)if(t.hasOwnProperty(a)){if(!t||"object"!==(0,se.Z)(t))return t;n[a]=e(t[a],Object.assign(t[a]instanceof Array?[]:{},t[a]))}return n}};function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot=function(e,t,n,a,i){var r,o,l;if(i&&i.rounds&&n.maxRounds){var s=n.rewardPercent,c=n.endDate,d=n.bookingsPerRound,u=n.maxRounds,m=i.rounds,g=i.isOnboarding,_=i.maxBookingsReached,p=5===s,f={start_style:"<vip-highlight>",end_style:"</vip-highlight>"},v=(null===(r=a.amountEarned)||void 0===r?void 0:r.amount)||0,h=m.reduce((function(e,t){var n=t.rewardAmount,a=t.rewardsSent,i=t.bookingsCount,r=t.maxCount;return null!=n&&n.amount&&!a&&i===r?e+n.amount:e}),0),k=(null===(o=a.formattedCurrencies)||void 0===o?void 0:o.amountEarned)||"",b=(null===(l=a.formattedCurrencies)||void 0===l?void 0:l.amountPendingTotal)||"",y=e.trans((0,I.t)("genius_vip_challenge_bnu_end_date",{variables:{end_date:(0,C.p6)(e,{date:new Date(c)||"",form:T})}})),S=m.filter((function(e){return e.rewardsSent})).length,N=S===u,E=function(e,t){return e.map((function(e){var t=e.bookingsCount,n=e.maxCount,a=e.rewardsSent,i=e.isStarted,r=e.index,o=e.formattedCurrencies;return{isStarted:i,index:r,ringProps:{size:"small",theme:"golden",isGappedRing:2!==n,maxCount:n,bookingsCount:t,rewardsSent:a},rewardAmountFormatted:(null==o?void 0:o.rewardAmount)||"",label:"",description:""}})).sort((function(e,t){return e.index-t.index}))}(m),O={cta:[{text:g?e.trans((0,I.t)("genius_vip_challenge_bnu_cta_get_details")):e.trans((0,I.t)("genius_vip_challenge_bnu_cta_check_progress")),actionString:"genius_vip_campaigns"}]};g?Object.assign(O,{title:e.trans((0,I.t)(p?"genius_vip_challenge_bnu_index_banner_title_onboarding_5_percent":"genius_vip_challenge_bnu_index_banner_title_onboarding_10_percent",{variables:rt({num_booking_threshold:d||5},f),num_exception:d||5})),asset:"https://bstatic.com/data/mobile/gneius_vip_logo_with_ripple_v2@LARGE.png"}):N?Object.assign(O,{title:e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_title_earned_total",{variables:rt({amount_earned_total:k},f)}))}):_&&S>0?Object.assign(O,{title:e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:rt({amount_to_earn_total:b},f)})),subtitle:e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:k}}))}):_&&!S?Object.assign(O,{title:e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:rt({amount_to_earn_total:b},f)}))}):E.filter((function(e){return e.isStarted})).slice(-2).forEach((function(t,n){var a=t.ringProps,i=a.bookingsCount,r=a.maxCount,o=a.rewardsSent,l=r-i;0===i?O.subtitle=v&&h&&u>2?e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_stay_more",{variables:{amount_earned_total:k}})):e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_subtitle_make_another_booking")):i===r?O.title=o?e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_title_earned_last",{variables:rt({amount_earned_total:k},f)})):e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_title_complete_stays_to_earn",{variables:rt({amount_to_earn_total:b},f)})):t.index>S?O.subtitle=u>2&&v&&2===r?e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total_and_num_booking_to_earn",{variables:{amount_earned_total:k}})):e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_subtitle_num_booking_to_earn",{variables:{num_booking_more:l},num_exception:l})):O.title=e.trans((0,I.t)(p?"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_5_percent":"genius_vip_challenge_bnu_index_banner_title_num_booking_to_earn_10_percent",{variables:rt({num_booking_more:l},f),num_exception:l})),1===n&&S===t.index&&i>0&&(O.subtitle=e.trans((0,I.t)("genius_vip_challenge_bnu_index_banner_subtitle_earned_total",{variables:{amount_earned_total:k}})))}));var x=(N?E.slice(-1):E.filter((function(e){return e.isStarted&&!e.ringProps.rewardsSent}))).map((function(n){if(0===n.index&&n.ringProps.bookingsCount<n.ringProps.maxCount)return n;var a={content:e.trans((0,I.t)("genius_vip_challenge_bnu_round_num",{variables:{num_round:n.index+1}})),gap:2,textProps:{variant:t?"small_1":"body_2",color:"white"}};return rt(rt({},n),{},{ringProps:rt(rt({},n.ringProps),{},{additionalText:a})})}));return O.bookAndUnlockRounds=g?void 0:x,O.endDate=O.subtitle?"":y,O}},lt={view:{welcome:a.MODAL_VIEW,reminding:a.REMINDER_MODAL_VIEW,login:a.LOGIN_MODAL_VIEW},click:{welcome:a.MODAL_CTA_CLICK,reminding:a.REMINDER_MODAL_CTA_CLICK,login:a.LOGIN_MODAL_CTA_CLICK},dismiss:{welcome:a.MODAL_DISMISS,reminding:a.REMINDER_MODAL_DISMISS}},st=function(e,t,n,a){var i;"click"!==(i=n)&&"dismiss"!==i&&"view"!==i?ve.eventBus.publish(n,{campaign:e,actionName:t}):a&&lt[n][a]&&ve.eventBus.publish(lt[n][a],{campaign:e,actionName:t})};function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,$.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e){var t=e.actionArray,n=e.isMdot,a=e.modalCategory,i=e.programType,r=e.actionName,o=e.onCtaClick,l=e.onClose;if(!t||!t.length)return null;var c=function(){o&&o(),i&&st(i,r,"click",a)},u=function(){l&&l()},g=t.sort((function(e,t){return e.actionDismiss&&!t.actionDismiss?1:!e.actionDismiss&&t.actionDismiss?-1:0})).map((function(e){return{text:e.text,actionString:e.actionString?je(e.actionString||"",r,dt({modal:r,type:a},e.actionParams)):"",actionDismiss:e.actionDismiss}}));return s().createElement(s().Fragment,null,g.map((function(e,t){return s().createElement(m.Button,(0,d.Z)({key:"cta_".concat(e.text)},function(e,t){var a=e.actionString;return dt(dt({},(e.actionDismiss,{text:e.text,size:n?"large":"medium",wide:n,variant:t?"tertiary":"primary"})),{},a?{onClick:c,attributes:{href:a}}:{onClick:u})}(e,t)))})))}var mt,gt="ccf424a5ad",_t="d04c5d2f03",pt="a91e8e5f9d",ft="cfcd3b7a79",vt="eafe9db2fe",ht=function(e){var t,n=e.uiData,a=e.isMdot,i=e.programType,r=e.actionName,o=e.modalCategory,l=e.onClose,c=ut({actionArray:n.cta,isMdot:a,modalCategory:o,programType:i,actionName:r,onClose:l});if(!i||!Object.keys(n).length)return null;var d=function(e){switch(e){case N.BookAndUnlock:case N.InstantDiscount:return{width:"248px",height:"228px"};case N.InstantCredit:case N.SpendAndUnlock:return{width:"208px",height:"176px"};case N.OneOffVoucher:return{width:"256px",height:"256px"};default:return{width:"208px",height:"176px"}}}(i),u=2===(null===(t=n.cta)||void 0===t?void 0:t.length);return s().createElement(Ze.df,{triggerOnce:!0,onChange:function(e){e&&st(i,r,"view",o)}},s().createElement(m.Box,{padding:a?4:6,className:Ce()(a&&_t,a&&u&&pt)},s().createElement(m.Stack,{gap:6,alignItems:"center"},s().createElement(m.Stack.Item,null,s().createElement(m.Image,{src:n.asset,width:d.width,height:d.height,contentMode:"fit",fallback:null})),s().createElement(m.Stack.Item,null,s().createElement(m.Stack,{gap:4},s().createElement(m.Stack.Item,null,s().createElement(m.Text,{variant:"headline_2",align:"center"},n.title)),s().createElement(m.Stack.Item,null,s().createElement(m.Text,{variant:a?"body_1":"featured_3",align:"center"},Fe(n.subtitle,{"vip-bold":gt}))))),s().createElement(m.Stack.Item,{className:Ce()(a&&ft,a&&u&&vt)},s().createElement(m.Stack,{gap:a?0:3},n.cta&&c)))))},kt=n(64394),bt=(0,l.createContext)({programType:N.InstantCredit});function yt(e){var t=e.bannerData,n=e.modalData,a=e.dismissModal,i=e.dismissed,r=e.modalCategory,o=(0,kt.Z)().isMDOT,c=(0,l.useContext)(bt).programType,d=(0,l.useContext)(g),u=d.isOpen,m=d.toggle,_=d.setContent,p=ht({uiData:n,isMdot:o,programType:c,actionName:"index",modalCategory:r,onClose:m});return(0,l.useEffect)((function(){!i&&n&&(_(p),!u&&Object.keys(n).length&&(m(),a()))})),o?s().createElement(tt,t):s().createElement($e,t)}function St(){var e,t,n,a,i,d,u,m,g=(0,kt.Z)().isMDOT,S=function(){var e,t=(0,l.useRef)({localStorageKey:"default_key",localStorageValue:Date.now()+"",modalCategory:"",vipIndex:null}),n=null===(e=(0,c.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,a=(0,c.getRequestContext)().getBasePageUrl().searchParams,i=H(),r=!Boolean(n)||!(!a.get(x)||!i),s=a.get(O);(0,k.trackExperiment)((0,k.exp)(K||(K=(0,o.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))));var d=(0,v.useQuery)(b,{variables:{input:{enableEnroll:!0,page:E.INDEX,isFromEmail:Boolean(s)}},skip:r}),u=d.loading,m=d.error,g=d.data;if(m||u||r||!g)return m&&((0,k.trackExperimentStage)((0,k.exp)(z||(z=(0,o.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),5),(0,h.reportWarning)("Genius VIP index query error ".concat(m.message))),t.current;var _=g.geniusVipEnrolledProgram;if(_&&"GeniusVipEnrolledProgram"===_.__typename&&y(_,["metadata","reward","geniusVipUIs"])){(0,k.trackExperimentStage)((0,k.exp)(X||(X=(0,o.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),3);var p=_.geniusVipUIs.indexModal;p&&(0,k.trackExperimentStage)((0,k.exp)(Y||(Y=(0,o.Z)(["cQYIMdUTNOUbWNZGcBYUNTTJXZMHbAEHXT"]))),4);var f="";_.metadata.programType===N.OneOffVoucher&&"reminding"!==(null==p?void 0:p.modalCategory)&&s?f=s:p&&y(p,["modalCategory","uniqueKey"])&&(f=p.modalCategory+p.uniqueKey),t.current={vipIndex:_,localStorageKey:(n||s)+"",localStorageValue:f,modalCategory:p&&p.modalCategory||""}}return t.current}(),I=S.localStorageKey,C=S.localStorageValue,P=S.vipIndex,T=S.modalCategory,w=(0,et.T)(I,C),D=w.closeDismissibleItem,L=w.dismissed,A=(0,p.useI18n)(),R=null===(e=(0,c.getRequestContext)().getUserIdentity())||void 0===e?void 0:e.userId,F=(0,c.getRequestContext)().getBasePageUrl(),M=null==F?void 0:F.searchParams,U=null==P||null===(t=P.metadata)||void 0===t?void 0:t.programType,B=at((null==P||null===(n=P.geniusVipUIs)||void 0===n?void 0:n.indexModal)||{});if(!U&&!R&&M.get(x)===N.OneOffVoucher&&(0,f.isFeatureRunning)((0,f.feature)(mt||(mt=(0,o.Z)(["cQYIMdUTNOUbWNHGHbfEGfMKMLae"]))))){var j=q(M,A);B=j.indexModal,T=j.modalCatgory,U=N.OneOffVoucher}var Z=at((null==S||null===(a=S.vipIndex)||void 0===a||null===(i=a.geniusVipUIs)||void 0===i?void 0:i.indexBanner)||{});U===N.BookAndUnlock&&P&&y(P,["metadata","reward","userProgress"])&&(Z=ot(A,g,P.metadata,P.reward,P.userProgress)||{});var V=0===Object.keys(B).length,G=0===Object.keys(Z).length;if((0,l.useEffect)((function(){U!==N.OneOffVoucher||V||T!==r.LOGIN&&T!==r.EXPIRE||!F||(F.searchParams.set("offlineModalShown","1"),window.history.pushState({},"",F))}),[U,V,F,T]),!U)return null;if(G&&V)return null;if(U===N.BookAndUnlock&&null!=P&&null!==(d=P.userProgress)&&void 0!==d&&d.maxRewardsReached)return null;var W=null;if("SpendAndUnlockProgramMetadata"===(null==P||null===(u=P.metadata)||void 0===u?void 0:u.__typename)&&"SpendAndUnlockReward"===(null===(m=P.reward)||void 0===m?void 0:m.__typename)){var J,Q,$,ee,te=P.metadata,ne=null===(J=P.reward.amountTotalUserSpent)||void 0===J?void 0:J.amount,ae=null===(Q=te.upperLimit)||void 0===Q?void 0:Q.amount,ie=null===($=te.threshold)||void 0===$?void 0:$.amount;if(ne&&ae&&ie&&te.rewardPercent&&null!==(ee=Z.progressBar)&&void 0!==ee&&ee.indicators){var re,oe,le=null===(re=Z)||void 0===re||null===(oe=re.progressBar)||void 0===oe?void 0:oe.indicators.map((function(e){return{value:(null==e?void 0:e.value)||0,formattedValue:(null==e?void 0:e.formattedValue)||""}}));W={progress:ne,upperLimit:ae/((null==te?void 0:te.rewardPercent)/100),threshold:ie,indicators:le,size:g?"small":"medium"}}}Object.assign(Z,{progressBar:W});var se={isMDOT:g,openOnLoad:!1,onAfterClose:function(){U&&st(U,"index","dismiss",T)},sheetContainerProps:{fill:!0}};return s().createElement(bt.Provider,{value:{programType:U}},s().createElement(_,se,s().createElement(yt,{bannerData:Z,modalData:B,dismissModal:D,dismissed:L,modalCategory:T})))}},78961:function(e,t,n){"use strict";n.d(t,{c:function(){return f},T:function(){return v}});for(var a=n(92577),i=n(83966),r=n(78377),o=n.n(r),l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&l.test(e)},c=[],d=0;d<256;++d)c.push((d+256).toString(16).substr(1));function u(e,t,n,a){switch(e){case 0:return t&n^~t&a;case 1:case 3:return t^n^a;case 2:return t&n^t&a^n&a}}function m(e,t){return e<<t|e>>>32-t}var g=function(e,t,n){function a(e,t,a,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof t&&(t=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}(t)),16!==t.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var r=new Uint8Array(16+e.length);if(r.set(t),r.set(e,t.length),(r=n(r))[6]=15&r[6]|80,r[8]=63&r[8]|128,a){i=i||0;for(var o=0;o<16;++o)a[i+o]=r[o];return a}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n}(r)}try{a.name="v5"}catch(e){}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}(0,0,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var a=unescape(encodeURIComponent(e));e=[];for(var i=0;i<a.length;++i)e.push(a.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var r=e.length/4+2,o=Math.ceil(r/16),l=new Array(o),s=0;s<o;++s){for(var c=new Uint32Array(16),d=0;d<16;++d)c[d]=e[64*s+4*d]<<24|e[64*s+4*d+1]<<16|e[64*s+4*d+2]<<8|e[64*s+4*d+3];l[s]=c}l[o-1][14]=8*(e.length-1)/Math.pow(2,32),l[o-1][14]=Math.floor(l[o-1][14]),l[o-1][15]=8*(e.length-1)&4294967295;for(var g=0;g<o;++g){for(var _=new Uint32Array(80),p=0;p<16;++p)_[p]=l[g][p];for(var f=16;f<80;++f)_[f]=m(_[f-3]^_[f-8]^_[f-14]^_[f-16],1);for(var v=n[0],h=n[1],k=n[2],b=n[3],y=n[4],S=0;S<80;++S){var N=Math.floor(S/20),E=m(v,5)+u(N,h,k,b)+y+t[N]+_[S]>>>0;y=b,b=k,k=m(h,30)>>>0,h=v,v=E}n[0]=n[0]+v>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+k>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+y>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));function _(e){return g(e+"","78f09b1c-730c-49ff-8e0f-23315c42a5b7")}function p(e,t){var n=(0,i.useState)(!0),r=(0,a.Z)(n,2),l=r[0],s=r[1];return o()((function(){var n=window.localStorage.getItem(e);n&&t(n)?s(!0):s(!1)})),[l,s]}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:72e5,n=_(e),i=p(n,(function(e){return Date.now()-+e<=t})),r=(0,a.Z)(i,2),o=r[0],l=r[1];return{closeDismissibleItem:function(){l(!0),window.localStorage.setItem(n,JSON.stringify(Date.now()))},dismissed:o,encryptLocalStorageKey:n}}function v(e,t){var n=_(e),r=p(n,(function(e){return e===t})),o=(0,a.Z)(r,2),l=o[0],s=o[1];return{closeDismissibleItem:(0,i.useCallback)((function(){s(!0),window.localStorage.setItem(n,t)}),[n,s,t]),dismissed:l,encryptLocalStorageKey:n}}},39777:function(e,t,n){"use strict";n.d(t,{p6:function(){return S}});var a=n(31191),i=n(23059);function r(e,t,n){void 0===t&&(t=2),void 0===n&&(n="0");for(var a=(e||"").toString(),i=a.length;i<t;)a=n+a,i++;return a}function o(e){return e instanceof Date&&!isNaN(e.getTime())}function l(e){return{dayOfMonth:e.getDate(),day:(t=e.getDay(),0===t?7:t),month:e.getMonth()+1,year:e.getFullYear(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds()};var t}function s(e){return void 0===e&&(e={}),Object.keys(e).reduce((function(t,n){var a=e[n];return null!=a&&("string"==typeof a?t[n]=a:"number"!=typeof a||isNaN(a)||(t[n]=a.toString(10))),t}),{})}function c(e,t){var n;if(!e)throw new Error("No i18n object provided");var c=function(e){var t=o(e)?e:new Date("2019-01-01T"+e);if(o(t)){var n=l(t);return{hour:n.hours,minutes:n.minutes,seconds:n.seconds}}throw new Error("formatting/time: invalid time provided — "+e)}(t.time),d=(c.hour<12?"AM":"PM")+"_symbol",u=(0,a.pi)({AM_PM:e.trans((0,i.t)("time_format",d,"name",{variables:{}}))},function(e,t){var n=e.hour,a=t?n:e.hour,i=0===e.hour||12===e.hour?12:e.hour%12;return s({hour_24h_no0:e.hour,hour_24h:r(e.hour),hour_24h_show24:r(n),hour_24h_until24:r(a),hour_12h:r(i),minutes_no0:e.minutes,minutes:r(e.minutes),hour_12h_no0:i,hour_24h_show24_no0:n,hour_24h_until24_no0:a})}(c,null!==(n=t.until)&&void 0!==n&&n));return e.trans((0,i.t)("time_format","time","name",{variables:u}))}(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name"));var d="name";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","genitive_lc"));var u="genitive_lc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","genitive_uc"));var m="genitive_uc";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_only"));var g="name_only";(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_in"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_from"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_to"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_def_article_lc"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","in_month_lc"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","name_lc"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","to_month_lc"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","short_name"));(0,i.registerDynamicTags)((0,i.t)("month_for_formatted_date","fakeIndex","short_name_uc"));var _=n(82621);(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name_on"));(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name_from"));(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","name_to"));(0,i.registerDynamicTags)((0,i.t)("weekday_formatted_date","fakeIndex","short"));(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_from"));(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_on"));(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_other"));var p="day_other";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_until"));(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","name"));var f="name";(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_1"));(0,i.registerDynamicTags)((0,i.t)("day_for_formatted_date","fakeIndex","day_2"));function v(e){var t=(0,a.CR)(/^(\d{2}):(\d{2})(:(\d{2}))?/.exec(e)||[],5),n=t[1],i=t[2],o=t[4],l=void 0===o?"0":o;return new Date("2020-01-01T"+r(n)+":"+r(i)+":"+r(l))}function h(e){var t=(0,a.CR)(e.split(/[\sT]/),2),n=t[0],i=t[1];if(n||i){var o=new Date;if(n&&(o=function(e){var t=(0,a.CR)(/^(\d{4})-(\d{1,2})-(\d{1,2})$/.exec(e)||[],4),n=t[1],i=t[2],o=t[3];return new Date(n+"-"+r(i)+"-"+r(o)+"T00:00")}(n)),i){var s=v(i),c=l(o),d=c.year,u=c.month,m=c.dayOfMonth,g=l(s),_=g.hours,p=g.minutes,f=g.seconds;o=new Date(d,u-1,m,_,p,f)}return o}return null}function k(e,t){var n=o(e)?e:h(e),a=t?o(t)?t:v(t):void 0;if(!n)throw new Error("No date provided — '"+e+"' '"+t+"'");if(o(a)&&o(e)){var i=l(e),r=i.year,s=i.month,c=i.dayOfMonth,d=l(a),u=d.hours,m=d.minutes,g=d.seconds;n=new Date(r,s-1,c,u,m,g)}if(!o(n))throw new Error("invalid date provided — '"+e+"' '"+t+"'");return n}function b(e,t,n,a,r){return void 0===r&&(r={}),Object.keys(r).reduce((function(o,l){return o[l+t]=e.trans((0,i.t)(n,a.toString(),r[l])),o}),{})}function y(e,t,n){var o,s;void 0===n&&(n="");var v=l(t),h=v.month,k=v.year,y=v.dayOfMonth,S=v.day,N=h.toString(),E=(0,a.pi)((0,a.pi)((0,a.pi)(((o={})["full_year"+n]=k.toString(),o["month"+n]=N,o["day_of_month"+n]=y.toString(),o["month_name_with_year_only"+n]=e.trans((0,i.t)("month_for_formatted_date",N,"name_with_year_only")),o["time"+n]=c(e,{time:t}),o),b(e,n,"day_for_formatted_date",y,{day_name_from:"day_from",day_name_on:"day_on",day_name_other:p,day_name_till:"day_until",day_name_1:f,day_other:p,day_name:f,day_1:"day_1",day_of_month:f,day_2:"day_2"})),b(e,n,"month_for_formatted_date",h,{month_1:d,month_2:d,month_name_1:d,month_name_2:d,month_name:d,month_name_genitive_lc:u,month_name_genitive_uc:m,month_name_nom:g,month_name_in:"name_in",month_name_from:"name_from",month_name_to:"name_to",month_genitive_uc:m,month_name_def_article_lc:"name_def_article_lc",month_name_genitive:u,month_name_in_lc:"in_month_lc",month_name_lc:"name_lc",month_name_to_lc:"to_month_lc",month_name_with_year_only:g,short_month_name:"short_name",short_month_name_uc:"short_name_uc"})),b(e,n,"weekday_formatted_date",S,{weekday:_.Z,weekday_nom:"name_on",weekday_from:"name_from",weekday_to:"name_to",short_weekday:"short"}));return(0,a.pi)(((s={})["year"+n]=E.full_year,s["day_name_0"+n]=r(E.day_of_month),s["day_name_1"+n]=E.day_of_month,s["month_name_0"+n]=r(E.month),s["month_name_1"+n]=E.month,s["day_name_from_0"+n]=r(E["day_name_from"+n]),s["day_name_on_0"+n]=r(E["day_name_on"+n]),s["day_name_other_0"+n]=r(E["day_name_other"+n]),s["day_name_till_0"+n]=r(E["day_name_till"+n]),s),E)}function S(e,t){if(!e)throw new Error("No i18n object provided");var n=t.time,r=t.timeUntil,o=t.beginMarker,l=void 0===o?"(":o,d=t.endMarker,u=void 0===d?")":d,m=t.form,g=t.date,_=t.dateUntil,p=(0,a.pi)({begin_marker:l,end_marker:u},y(e,k(g,n)));return _&&(p=(0,a.pi)((0,a.pi)({},p),y(e,k(_,r),"_until"))),n&&(p.time=c(e,{time:n})),r&&(p.time_until=c(e,{time:r})),m?e.trans((0,i.t)("date_format","1",m,{variables:s(p)})):e.trans((0,i.t)("date_format","1","short_date",{variables:s(p)}))}},82621:function(e,t,n){"use strict";var a=n(23059);(0,a.registerDynamicTags)((0,a.t)("weekday_formatted_date","fakeIndex","name")),t.Z="name"},40841:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var o=i.apply(null,n);o&&e.push(o)}else if("object"===r)for(var l in n)a.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},13613:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var a=n(66017);function i(e,t){if(null==e)return{};var n,i,r=(0,a.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}},21930:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(37017),i=n(49139);function r(e){return function(e){if(Array.isArray(e))return(0,a.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},36655:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n.d(t,{Z:function(){return a}})}}]);